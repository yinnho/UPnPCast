# UPnPCast库测试基线

本文档描述了在进行代码清理优化前应该测试的功能点，以确保在优化过程中不会破坏现有功能。

## 核心功能测试

### 1. 设备发现
- 测试设备搜索功能是否正常
- 验证能够发现网络中的UPnP/DLNA设备
- 确认设备列表更新正确

### 2. 设备连接
- 测试连接到特定设备功能
- 验证连接状态回调是否正确触发
- 测试断开连接功能

### 3. 媒体播放控制
- 测试播放媒体功能
- 测试暂停/恢复播放功能
- 测试调整播放进度功能
- 测试音量控制功能
- 测试静音功能

### 4. 状态管理
- 验证设备状态更新机制
- 测试播放状态变更通知
- 测试位置更新

### 5. 事件处理
- 测试各类事件是否正确触发
- 验证事件订阅和取消订阅机制

### 6. 缓存管理
- 测试设备信息缓存机制
- 验证控制器缓存功能
- 测试缓存清理功能

## 测试环境

### 设备组合
- 测试设备：[列出测试用的Android设备型号和系统版本]
- 目标设备：[列出用于测试的DLNA接收设备，如电视、音箱等]

### 网络环境
- 常规Wi-Fi环境
- 弱网环境模拟
- 网络中断恢复测试

## 测试方法

### 手动测试
1. 安装测试APK
2. 启动应用，进入设备发现页面
3. 验证能否发现设备并显示在列表中
4. 选择设备连接
5. 测试媒体播放控制功能
6. 测试异常处理情况

### 自动化测试（待开发）
- 单元测试：确保核心类功能正常
- 集成测试：验证组件间交互
- UI测试：模拟用户操作

## 测试结果记录

| 功能点 | 测试状态 | 通过/失败 | 备注 |
|-------|---------|----------|------|
| 设备发现 | 待测试 | - | - |
| 设备连接 | 待测试 | - | - |
| 媒体播放 | 待测试 | - | - |
| 暂停/恢复 | 待测试 | - | - |
| 进度调整 | 待测试 | - | - |
| 音量控制 | 待测试 | - | - |
| 事件处理 | 待测试 | - | - |
| 缓存管理 | 待测试 | - | - |

## 性能基线

### 内存使用
- 空闲状态：[待测量] MB
- 设备搜索时：[待测量] MB
- 媒体播放时：[待测量] MB

### 响应时间
- 设备发现平均时间：[待测量] 秒
- 设备连接平均时间：[待测量] 秒
- 播放命令响应时间：[待测量] 毫秒

## 回归测试清单

在每次代码修改后，需要进行以下回归测试：

1. 设备发现功能
2. 设备连接和断开
3. 基本的播放控制
4. 异常处理验证 